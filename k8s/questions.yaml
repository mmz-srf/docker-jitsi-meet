questions:
- variable: dockerHostAddress
  label: "Public IP"
  type: string
  required: true
- variable: timezone
  label: "Time Zone"
  type: string
  default: "Europe/Zurich"
  required: true
- variable: ingress.host
  label: "Hostname"
  type: string
  required: true
- variable: ingress.path
  label: "Path"
  type: string
  default: "/"
  required: true

- variable: auth.enabled
  default: false
  label: "Enable authentication"
  type: boolean
  required: true
  show_subquestion_if: true
  group: "Authentication"
  subquestions:
  - variable: auth.enableGuests
    label: "Enable guest access"
    type: boolean
  - variable: auth.authtype
    label: "Select authentication type"
    type: enum
    default: 'internal'
    required: true
    options: 
      - "internal"
      - "ldap"
      - "jwt"
  - variable: auth.ldap.url
    label: "LDAP URL for ldap connection"
    type: string
    description: "ldaps://ldap.domain.com/"
  - variable: auth.ldap.base
    label: "LDAP base DN. Can be empty."
    type: string
    description: "DC=example,DC=domain,DC=com"
  - variable: auth.ldap.binddn
    label: "LDAP user DN. Do not specify this parameter for the anonymous bind."
    type: string
    description: "CN=binduser,OU=users,DC=example,DC=domain,DC=com"
  - variable: auth.ldap.bindpw
    label: "LDAP user password. Do not specify this parameter for the anonymous bind."
    type: password
  - variable: auth.ldap.filter
    label: "LDAP filter."
    type: string
    description: "(sAMAccountName=%u)"
  - variable: auth.ldap.authMethod
    label: "LDAP authentication method."
    type: string
    description: "bind"
  - variable: auth.ldap.version
    label: "LDAP protocol version"
    type: int
    default: 3
  - variable: auth.ldap.useTLS
    label: "LDAP Enable LDAP TLS"
    type: boolean
    default: true
  - variable: auth.ldap.TLSCiphers
    label: "LDAP Set TLS ciphers list to allow"
    type: string
    description: "SECURE256:SECURE128"
  - variable: auth.ldap.TLScheckPeer
    label: "LDAP Require and verify LDAP server certificate"
    type: boolean
    default: true
  - variable: auth.ldap.TLSCaCertFile
    label: "LDAP Path to CA cert file. Used when server certificate verification is enabled"
    type: string
    description: "/etc/ssl/certs/ca-certificates.crt"
  - variable: auth.ldap.TLSCaCertDir
    label: "LDAP Path to CA certs directory. Used when server certificate verification is enabled."
    type: string
    description: "/etc/ssl/certs"
  - variable: auth.ldap.TLScheckPeer
    label: "LDAP Enable START_TLS, requires LDAPv3, URL must be ldap:// not ldaps://"
    type: boolean
    default: false
  - variable: auth.jwt.appID
    label: "JWT Application identifier"
    type: string
    description: "my_jitsi_app_id"
  - variable: auth.jwt.appSecret
    label: "JWT Application secret known only to your token"
    type: string
    description: "my_jitsi_app_secret"
  - variable: auth.jwt.acceptedIssuers
    label: "JWT (Optional) Set asap_accepted_issuers as a comma separated list"
    type: string
    description: "my_web_client,my_app_client"
  - variable: auth.jwt.acceptedAudiences
    label: "JWT (Optional) Set asap_accepted_audiences as a comma separated list"
    type: string
    description: "my_server1,my_server2"
  - variable: auth.jwt.asapKeyserver
    label: "JWT (Optional) Set asap_keyserver to a url where public keys can be found"
    type: string
    description: "https://example.com/asap"
  - variable: auth.ldap.allowEmpty
    label: "JWT (Optional) Allow anonymous users with no JWT while validating JWTs when provided"
    type: boolean
    default: false
  - variable: auth.jwt.authType
    label: "JWT (Optional) Controls which module is used for processing incoming JWTs"
    type: string
    description: "token"
  - variable: auth.jwt.tokenAuthModule
    label: "JWT (Optional) Controls which module is used for validating JWTs"
    type: string
    description: "token_verification"

- variable: jigasi.enabled
  default: false
  label: "Enable JIGASI "
  type: boolean
  required: true
  show_subquestion_if: true
  group: "JIGASI the SIP (audio only) gateway"
  subquestions:
  - variable: jigasi.sipUri
    label: "SIP URI for incoming / outgoing calls"
    type: string
    required: true
    description: "test@sip2sip.info"
  - variable: jigasi.sipPassword
    label: "Password for the specified SIP account"
    type: password
    required: true
  - variable: jigasi.sipServer
    label: "SIP server (use the SIP account domain if in doubt)"
    type: string
    required: true
    description: "sip2sip.info"
  - variable: jigasi.sipPort
    label: "SIP server port	"
    type: int
    required: true
    default: 5060
    description: "5060"
  - variable: jigasi.sipTransport
    label: "SIP transport"
    type: enum
    required: true
    default: "UDP"
    options: 
      - "UDP"
      - "TCP"
  - variable: jigasi.xmppUser
    label: "XMPP user for Jigasi MUC client connections"
    type: string
    required: true
    default: "jigasi"
    description: "jigasi"
  - variable: jigasi.xmppPasword
    label: "XMPP password for Jigasi MUC client connections"
    type: password
    required: true
  - variable: jigasi.portMin
    label: "Minimum port for media used by Jigasi"
    type: int
    required: true
    default: 20000
  - variable: jigasi.portMax
    label: "Maximum port for media used by Jigasi"
    type: int
    required: true
    default: 20050
  - variable: jigasi.healthCheckSIPURI
    label: "Health-check SIP URI extension. Jigasi will call it for health check"
    type: string
    required: true
    default: "keepalive"
    description: "keepalive"
  - variable: jigasi.healthCheckInterval
    label: "Interval of health check in milliseconds"
    type: int
    required: true
    default: 300000
  - variable: jigasi.SIPKeepAliveMethod
    label: "Keepalive method"
    type: string
    required: true
    default: "OPTIONS"
  - variable: jigasi.enableSdesSrtp
    label: "Enable SDES srtp"
    type: boolean
    required: true
    default: true
  - variable: jigasi.transcription.enabled
    label: "Enable Jigasi transcription in a conference"
    type: boolean
    required: true
    default: false
  - variable: jigasi.transcription.advertiseURL
    label: "TRANSCRIPTION Jigasi will post an URL to the chat with transcription file"
    type: boolean
    required: true
    default: true
  - variable: jigasi.transcription.recordAudio
    label: "TRANSCRIPTION Jigasi will record audio when transcriber is on"
    type: boolean
    required: true
    default: true
  - variable: jigasi.transcription.sendTXT
    label: "TRANSCRIPTION Jigasi will send a transcribed text to the chat when transcriber is on"
    type: boolean
    required: true
    default: true
  - variable: jigasi.transcription.gc.projectID
    label: "project_id from Google Cloud Credentials"
    type: string
  - variable: jigasi.transcription.gc.privateKeyID
    label: "private_key_id from Google Cloud Credentials"
    type: string
  - variable: jigasi.transcription.gc.privateKey
    label: "private_key from Google Cloud Credentials"
    type: multiline
  - variable: jigasi.transcription.gc.clientEmail
    label: "client_email from Google Cloud Credentials"
    type: string
  - variable: jigasi.transcription.gc.clientID
    label: "client_id from Google Cloud Credentials"
    type: string
  - variable: jigasi.transcription.gc.clientCertURL
    label: "client_x509_cert_url from Google Cloud Credentials"
    type: string

- variable: letsencrypt.enabled
  default: false
  description: "If true, Letencrypt is enabled"
  type: boolean
  required: true
  show_subquestion_if: true
  group: "Letsencrypt"
  subquestions:
  - variable: letsencrypt.email
    label: "Letecrypt Email"
    type: string
    required: true
- variable: jicofo.componentSecret
  label: "jicofo Component Secret"
  type: password
  group: "jicofo"
  required: true
- variable: jicofo.authUser
  label: "jicofo Auth User"
  type: string
  default: 'focus'
  group: "jicofo"
  required: true
- variable: jicofo.authPassword
  label: "jicofo Auth Password"
  type: password
  group: "jicofo"
  required: true
- variable: jvb.containerPortUDP
  label: "jvb Container Port UDP"
  type: int
  default: 30000
  group: "JVB Jitsi Video Bridge"
  required: true
- variable: jvb.containerPortTCP
  label: "jvb Container Port TCP"
  type: int
  default: 30001
  group: "JVB Jitsi Video Bridge"
  required: true
- variable: jvb.componentSecret
  label: "jvb Component Secret"
  type: password
  group: "JVB Jitsi Video Bridge"
  required: true
- variable: jvb.authUser
  label: "jvb Auth User"
  type: string
  default: 'jvb'
  group: "JVB Jitsi Video Bridge"
  required: true
- variable: jvb.authPassword
  label: "jvb Auth Password"
  type: password
  group: "JVB Jitsi Video Bridge"
  required: true